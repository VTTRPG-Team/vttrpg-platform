<!DOCTYPE html>
<html>
<body>
  <h1>Gemini in Browser</h1>
  
  <input type="text" id="userPrompt" placeholder="Type your question here..." size="50">
  
  <button onclick="askGemini()">Ask Gemini</button>
  
  <p id="output" style="white-space: pre-wrap;"></p> <script type="module">
    import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

    // ⚠️ UNSAFE: Replace with your actual API key
    const API_KEY = "AIzaSyD8LSZbkVBxsAz3YjJDmUczZB97UAw3oak"; 
    const genAI = new GoogleGenerativeAI(API_KEY);
    const model = genAI.getGenerativeModel({ model: "gemini-2.5-flash" });

    window.askGemini = async function() {
      // 2. UPDATED: Get the value from the input box
      const inputElement = document.getElementById("userPrompt");
      const prompt = inputElement.value;

      if (!prompt) {
        alert("Please type a question first!");
        return;
      }
      
      document.getElementById("output").innerText = "Thinking...";
      
      try {
        const result = await model.generateContent(prompt);
        const response = await result.response;
        const text = response.text();
        
        document.getElementById("output").innerText = text;
      } catch (error) {
        document.getElementById("output").innerText = "Error: " + error.message;
      }
    }
  </script>
</body>
</html>